<!--register_employer.html - Enhanced with professional fields and email verification-->
{% extends "base.html" %}
{% block title %}HR/Recruiter Registration{% endblock %}

{% block styleInclude %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
<style>
.registration-container {
    max-width: 700px;
    margin: 2rem auto;
    background: white;
    border-radius: 15px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    overflow: hidden;
}

.registration-header {
    background: linear-gradient(135deg, #2196F3, #1976D2);
    color: white;
    padding: 2rem;
    text-align: center;
}

.registration-header h1 {
    font-size: 2rem;
    margin-bottom: 0.5rem;
    font-weight: 600;
}

.form-container {
    padding: 2rem;
}

.form-section {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid #eee;
}

.form-section:last-child {
    border-bottom: none;
}

.section-title {
    font-size: 1.2rem;
    font-weight: 600;
    color: #333;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid #2196F3;
    display: inline-block;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}

.form-row-three {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 1rem;
}

.form-group label {
    display: block;
    font-weight: 600;
    color: #333;
    margin-bottom: 0.5rem;
}

.required {
    color: #e74c3c;
}

.optional {
    color: #666;
    font-weight: normal;
    font-size: 0.9em;
}

.form-group input, 
.form-group select {
    width: 100%;
    padding: 0.75rem;
    border: 2px solid #e1e5e9;
    border-radius: 8px;
    font-size: 1rem;
    transition: border-color 0.3s ease;
    box-sizing: border-box;
}

.form-group input:focus, 
.form-group select:focus {
    outline: none;
    border-color: #2196F3;
    box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
}

.form-group small {
    color: #666;
    font-size: 0.85rem;
    margin-top: 0.25rem;
    display: block;
}

.submit-btn {
    background: linear-gradient(135deg, #2196F3, #1976D2);
    color: white;
    border: none;
    padding: 1rem 2rem;
    border-radius: 25px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    width: 100%;
    transition: all 0.3s ease;
    margin-top: 1rem;
}

.submit-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(33, 150, 243, 0.4);
}

.submit-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.back-link {
    text-align: center;
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid #eee;
}

.back-link a {
    color: #2196F3;
    text-decoration: none;
    font-weight: 500;
}

.flash-message {
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 5px;
    font-weight: 500;
}

.flash-message.error {
    background-color: #fee;
    color: #c33;
    border: 1px solid #fcc;
}

.flash-message.success {
    background-color: #efe;
    color: #363;
    border: 1px solid #cfc;
}

.verification-notice {
    background: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    padding: 1rem;
    margin-bottom: 1.5rem;
    color: #495057;
    font-size: 0.9rem;
}

@media (max-width: 768px) {
    .form-row, .form-row-three {
        grid-template-columns: 1fr;
    }
    
    .registration-container {
        margin: 1rem;
    }
}
</style>
{% endblock %}

{% block content %}
<main>
    <div class="registration-container">
        <div class="registration-header">
            <h1>HR/Recruiter Registration</h1>
            <p>Join our platform to find and hire top talent</p>
        </div>
        
        <div class="form-container">
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="flash-message {{ category }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            
            <div class="verification-notice">
                <strong>Email Verification Required:</strong> After registration, you'll receive a verification email. Please check your inbox and click the verification link to activate your account.
            </div>
            
            <form action="{{ url_for('signup_hr') }}" method="POST" id="hrRegistrationForm">

         

                <!-- Personal Information -->
                <div class="form-section">
                    <div class="section-title">Personal Information</div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="full_name">Full Name <span class="required">*</span></label>
                            <input type="text" id="full_name" name="full_name" required
                                   value="{{ request.form.get('full_name', '') if request.method == 'POST' else '' }}">
                        </div>
                        
                        <div class="form-group">
                            <label for="job_title">Your Job Title <span class="required">*</span></label>
                            <input type="text" id="job_title" name="job_title" required placeholder="e.g., HR Manager, Talent Acquisition"
                                   value="{{ request.form.get('job_title', '') if request.method == 'POST' else '' }}">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="work_email">Work Email Address <span class="required">*</span></label>
                            <input type="email" id="work_email" name="work_email" required
                                   value="{{ request.form.get('work_email', '') if request.method == 'POST' else '' }}">
                            <small>Please use your company email address</small>
                        </div>
                        
                     <!---  <div class="form-group">
                            <label for="phone_number">Phone Number <span class="required">*</span></label>
                            <input type="tel" id="phone_number" name="phone_number" required
                                   value="{{ request.form.get('phone_number', '') if request.method == 'POST' else '' }}">
                        </div>-->
                    </div>
                
                
                 <!--Company Information -->
                <div class="form-section">
                    <div class="section-title">Company Information</div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="company_name">Company Name <span class="required">*</span></label>
                            <input type="text" id="company_name" name="company_name" required
                                   value="{{ request.form.get('company_name', '') if request.method == 'POST' else '' }}">
                        </div>
                        
                        <div class="form-group">
                            <label for="company_website">Company Website <span class="optional">(Optional)</span></label>
                            <input type="url" id="company_website" name="company_website" placeholder="https://www.company.com"
                                   value="{{ request.form.get('company_website', '') if request.method == 'POST' else '' }}">
                        </div>
                    </div>
                    
                    <!-- <div class="form-row-three">
                        <div class="form-group">
                            <label for="company_size">Company Size <span class="required">*</span></label>
                            <select id="company_size" name="company_size" required>
                                <option value="">Select company size</option>
                                <option value="1-10">1-10 employees</option>
                                <option value="11-50">11-50 employees</option>
                                <option value="51-200">51-200 employees</option>
                                <option value="201-1000">201-1000 employees</option>
                                <option value="1000+">1000+ employees</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="industry">Industry <span class="required">*</span></label>
                            <select id="industry" name="industry" required>
                                <option value="">Select industry</option>
                                <option value="Technology">Technology</option>
                                <option value="Healthcare">Healthcare</option>
                                <option value="Finance">Finance & Banking</option>
                                <option value="Education">Education</option>
                                <option value="Manufacturing">Manufacturing</option>
                                <option value="Retail">Retail</option>
                                <option value="Consulting">Consulting</option>
                                <option value="Real Estate">Real Estate</option>
                                <option value="Media">Media & Entertainment</option>
                                <option value="Non-profit">Non-profit</option>
                                <option value="Government">Government</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="hiring_volume">Annual Hiring Volume <span class="optional">(Optional)</span></label>
                            <select id="hiring_volume" name="hiring_volume">
                                <option value="">Select volume</option>
                                <option value="1-5">1-5 hires per year</option>
                                <option value="6-20">6-20 hires per year</option>
                                <option value="21-50">21-50 hires per year</option>
                                <option value="50+">50+ hires per year</option>
                            </select>
                        </div>-->
                    </div>
                </div>
                
                <!-- Account Security -->
                <div class="form-section">
                    <div class="section-title">Account Security</div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="password">Password <span class="required">*</span></label>
                            <input type="password" id="password" name="password" required>
                            <small>At least 8 characters, include letters, numbers, and symbols</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="confirm_password">Confirm Password <span class="required">*</span></label>
                            <input type="password" id="confirm_password" name="confirm_password" required>
                        </div>
                    </div>
                </div>
                
                <!-- Hidden role field -->
                <input type="hidden" name="role" value="employer">
                
                <button type="submit" class="submit-btn" id="submitBtn">
                    Create HR Account & Send Verification Email
                </button>
            </form>
            
            <div class="back-link">
                <a href="{{ url_for('index') }}">‚Üê Back to Home</a> | 
                <a href="{{ url_for('loginpage') }}">Already have an account? Sign In</a>
            </div>
        </div>
    </div>
</main>

<script>
document.getElementById('hrRegistrationForm').addEventListener('submit', function() {
    document.getElementById('submitBtn').disabled = true;
    document.getElementById('submitBtn').textContent = 'Creating Account...';
});

// Validate password match
document.getElementById('confirm_password').addEventListener('input', function() {
    const password = document.getElementById('password').value;
    const confirmPassword = this.value;
    
    if (password !== confirmPassword) {
        this.setCustomValidity('Passwords do not match');
    } else {
        this.setCustomValidity('');
    }
});
</script>
{% endblock %}